# Домашнее задание к занятию "11.2 Микросервисы: принципы"

1. Api Gateway
   
    | Requirements                                                    | Nginx | Haproxy | Envoy |
    | --------------------------------------------------------------- | ----- | ------- | ----- |
    | Маршрутизация запросов к нужному сервису на основе конфигурации | Yes   | Yes     | Yes   |
    | Возможность проверки аутентификационной информации в запросах   | No    | Yes     | Yes   |
    | Обеспечение терминации HTTPS                                    | Yes   | Yes     | Yes   |

    На сколько мне известно, то из коробки Nginx может проверить отсутствие или наличие заголовков авторизации, но не валидировать их, по этой причине я указал `No`. Выбор решения `API Gateway` на мой взгляд это вкусовщина, в целом все вышеперечисленные решения хороши, так же никто не запрещает написать свое решение. Из перечисленных я бы выбрал `Haproxy`.

2. Брокер сообщений
   
    | Requirements                                          | Kafka | RabbitMQ | Redis |
    | ----------------------------------------------------- | ----- | -------- | ----- |
    | Поддержка кластеризации для обеспечения надежности    | Yes   | Yes      | Yes   |
    | Хранение сообщений на диске в процессе доставки       | Yes   | Yes      | Yes   |
    | Высокая скорость работы                               | Yes   | Yes      | Yes   |
    | Поддержка различных форматов сообщений                | Yes   | Yes      | Yes   |
    | Разделение прав доступа к различным потокам сообщений | Yes   | Yes      | No    |
    | Протота эксплуатации                                  | No    | Yes      | Yes   |

    Redis я бы вообще не рассматривал как брокер сообщений, это скорее его фича, а не основное предназначение, т.к. Redis не гарантирует доставку. Я к сожалению никогда не имел дело с облачными решениями и ничего конкретного про них сказать не могу, знаю только что у любого облачного провайдера в наше время есть свои решения для очереди сообщений. В целом я бы свой выбор остановил на RabbitMQ, так как в отличии от Kafka, кролик это `умный сервер глупый клиент`, что дает возможность разработке писать меньше кода для логики отправки и получения сообщений.