# Домашнее задание к занятию "11.4 Микросервисы: масштабирование"

1. Кластеризация
   
   Единственным решением данной задачи которое я себе вижу, это кластер `Kubernetes` или если нам позволяет бюджет `OpenShift`. Они оба отвечают требованиям всех поставленных перед нами задач. При данном решении мы будем располагать такими инструментами как `Ingress Controller`, `Istio` и т.д. для обнаружения сервисов, распределения нагрузки и их изоляции от внешней среды при необходимости. `Kubernetes` достаточно легко мониторить практически из коробки, так же мы достаточно просто сможем обеспечить функционал горизонтального маштабирования. Конечно данное решение не панацея, а лишь один из самых популярных и распространненных способов достичь желаемого.

2. Распределенный кэш
   
   Не совсем понял в каком виде необходимо выполнить данное задание. Redis версии `>=3.0` поддерживает кластерезацию из коробки. У Redis Cluster есть 16384 хеш-слота, поэтому нам достаточно под нужное кол-во шардов, распределить между ними конфигом хеш-слоты. Сами же шарды общаются друг с другом по отдельному порту в бинарном формате, на сколько я знаю, могу ошибаться, должны находиться не за NAT'ом, иначе не найдут друг друга. Ну а далее для каждого шарда, по принципу `master-slave` можно поднять необходимое кол-во реплик.